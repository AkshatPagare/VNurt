(function(n,t){typeof define=="function"&&define.amd?define("smoothScroll",t(n)):typeof exports=="object"?module.smoothScroll=t(n):n.smoothScroll=t(n)})(this,function(n){"use strict";var t={},o=!!document.querySelector&&!!n.addEventListener,u,f={speed:500,easing:"easeInOutCubic",offset:0,updateURL:!1,callbackBefore:function(){},callbackAfter:function(){}},i=function(n,t,i){var u,r,f;if(Object.prototype.toString.call(n)==="[object Object]")for(u in n)Object.prototype.hasOwnProperty.call(n,u)&&t.call(i,n[u],u,n);else for(r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n)},r=function(n,t){var r={};return i(n,function(t,i){r[i]=n[i]}),i(t,function(n,i){r[i]=t[i]}),r},s=function(n,t){var i;return n==="easeInQuad"&&(i=t*t),n==="easeOutQuad"&&(i=t*(2-t)),n==="easeInOutQuad"&&(i=t<.5?2*t*t:-1+(4-2*t)*t),n==="easeInCubic"&&(i=t*t*t),n==="easeOutCubic"&&(i=--t*t*t+1),n==="easeInOutCubic"&&(i=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),n==="easeInQuart"&&(i=t*t*t*t),n==="easeOutQuart"&&(i=1- --t*t*t*t),n==="easeInOutQuart"&&(i=t<.5?8*t*t*t*t:1-8*--t*t*t*t),n==="easeInQuint"&&(i=t*t*t*t*t),n==="easeOutQuint"&&(i=1+--t*t*t*t*t),n==="easeInOutQuint"&&(i=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),i||t},h=function(n,t,i){var r=0;if(!isNaN(n.offsetParent)&&n.offsetParent)do r+=n.offsetTop,n=n.offsetParent;while(n);return r=r-t-i,r>=0?r:0},c=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},e=function(n){return n.replace(/^\s+|\s+$/g,"")},l=function(n){var t={};return n&&(n=n.split(";"),n.forEach(function(n){n=e(n);n!==""&&(n=n.split(":"),t[n[0]]=e(n[1]))})),t},a=function(n,t){history.pushState&&(t||t==="true")&&history.pushState({pos:n.id},"",n)};return t.animateScroll=function(t,i,u,e){var o=r(o||f,u||{}),g=l(t?t.getAttribute("data-options"):null);o=r(o,g);var y=document.querySelector("[data-scroll-header]"),nt=y===null?0:y.offsetHeight+y.offsetTop,w=n.pageYOffset,b=h(document.querySelector(i),nt,parseInt(o.offset,10)),k,tt=b-w,it=c(),d=0,v,p;t&&t.tagName.toLowerCase()==="a"&&e&&e.preventDefault();a(i,o.updateURL);var rt=function(r,u,f){var e=n.pageYOffset;(r==u||e==u||n.innerHeight+e>=it)&&(clearInterval(f),o.callbackAfter(t,i))},ut=function(){d+=16;v=d/parseInt(o.speed,10);v=v>1?1:v;p=w+tt*s(o.easing,v);n.scrollTo(0,Math.floor(p));rt(p,b,k)},ft=function(){o.callbackBefore(t,i);k=setInterval(ut,16)};n.pageYOffset===0&&n.scrollTo(0,0);ft()},t.init=function(n){if(o){u=r(f,n||{});var e=document.querySelectorAll("[data-scroll]");i(e,function(n){n.addEventListener("click",t.animateScroll.bind(null,n,n.hash,u),!1)})}},t});